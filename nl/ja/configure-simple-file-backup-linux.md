---

copyright:
  years: 1994, 2018
lastupdated: "2018-12-14"

---
{:new_window: target="_blank"}
{:tip: .tip}
{:note: .note}
{:important: .important}
{:DomainName: data-hd-keyref="APPDomain"}
{:DomainName: data-hd-keyref="DomainName"}

# Linux での単純なファイル・レベルのバックアップの構成

{{site.data.keyword.backup_full}} を注文し、エージェントがサーバーにインストールされた後、データのバックアップの作成を開始できます。 この記事では、エージェント、保存スケジュールを構成して、最初のバックアップ・ジョブを開始するステップを示します。

## WebCC の開始

1. [{{site.data.keyword.cloud_notm}} コンソール](https://{DomainName}/catalog/){:new_window}にログインして、左上にある**「メニュー」**アイコンをクリックします。**「クラシック・インフラストラクチャー」**を選択します。

   あるいは、[{{site.data.keyword.slportal}} ![External link icon](../../icons/launch-glyph.svg "External link icon")](https://control.softlayer.com/){:new_window}にログインします。
2. **「ストレージ」**>**「バックアップ」**をクリックして、バックアップ・サービスを備えたサーバーを表示します。
2. バックアップ対象のファイルが存在するサーバーを選択します。 右向きの展開矢印をクリックし、WebCC リンクを表示します。
3. IBM プライベート・ネットワークにアクセスするために、VPN 接続を開始します。
4. 「WebCC ログイン」リンクをクリックし、ブラウザーで WebCC クライアントを開始します。<br/>

  WebCC が開始されない場合は、VPN 接続に問題がある可能性があります。 また、送信しようとしているフォームがセキュアではないというメッセージが表示されることもあります。 このことは予期されることであるため、フォームを送信して続行します。
  {:tip}

## バックアップ・ジョブの構成

1. 左のナビゲーション・ペインで、**「すべてのエージェント」**をクリックして、現在の IBM Cloud バックアップ・エージェントを表示します
2. **「これは構成対象の新しいエージェントです (This is a new Agent I would like to configure)」**をクリックします。
3. 構成または作成するジョブのジョブ名とジョブ記述を入力します。
4. **「バックアップ・ソース・タイプ (Backup Source Type)」**で、バックアップ対象とするファイル・システム・タイプをメニューから選択します。
5. **「次へ」**をクリックして先に進みます。
6. **「データ・ファイル (Data Files)」**ペインで、フォルダー・アイコンの横の **+** 記号と **-** 記号をクリックして、バックアップ・ファイルに含めるファイルとディレクトリーに移動します。
7. 含めるファイルやディレクトリーの横のチェック・ボックスを選択し、次に、**「包含 (Include)」**をクリックして選択内容を保存します。
8. 表示されるポップアップ画面を使用して、選択内容をさらにフィルタリングできます。選択内容をそのまま使用する場合は**「OK」**をクリックします。 ファイルとディレクトリーを選択して含めた後、選択したファイルとディレクトリーが、画面右側の**「バックアップ・セット (Backup Set)」**ペインに表示されます。 **「次へ」**をクリックして先に進みます。

   6 から 8 のステップを繰り返して、さらにファイルを追加したり、以前に追加したファイルを削除 (**「除外 (Exclude)」**を使用する) したりすることができます。 また、**「削除」**を使用して**「バックアップ・セット (Backup Set)」**ペインから任意の行アイテムを削除することもできます。 バックアップ・セットを希望どおりに構成した後、
   {:tip}
9. 必要な暗号化タイプを選択します。
  - バックアップを暗号化しない場合は、**「なし」**を選択します。
  - 暗号化が必要な場合は、**「AES 256 ビット (AES 256 bit)」**を選択して、「パスワード」と「確認パスワード」の各フィールドにパスワードを入力します。 必要に応じてパスワード・ヒントを追加できます。
    このパスワードはバックアップからファイルをリストアするために必要になります。 失ったパスワードを復旧したり、暗号化されたバックアップをパスワードが不明なままリストアしたりする方法はありません。
  {:important}
10. **「詳細オプション」**のオプションを使用できます。
  - **保存 (Retention)** - このオプションではデータの使用法を管理できます。 保存期間によって、バックアップがどのくらいの間保持されるかが決定されます。 保存期間が経過すると、バックアップは自動的に削除されます。 組み込まれた選択項目は、「日次」、「週次」、「月次」です。
  - **圧縮 (Compression)** - このオプションを使用すると、バックアップの保存に使用される容量を削減できます。
  - **書き込みのために開かれているファイルをバックアップする (Backup files that are opened for write)** -このオプションを使用すると、バックアップ・ジョブの実行時にアプリケーションによってファイルが開かれている場合でも、それらのファイルをバックアップすることができます。
  - **ログ・ファイルの作成 (Create log file)** - このオプションでは、バックアップ処理中に生成されたログ・ファイルのコンテンツと保存を作成および管理できます。
  - **「選択されたすべてのハード・リンクされたファイルの単一インスタンスのバックアップ (Back up a single instance of all selected hard linked files)」**。 このオプションは UNIX スタイルのシステムにのみ該当します。 ハード・リンクを使用してなんらかのコンテンツに対して複数のファイル名を作成する場合は、このオプションを指定すると、コンテンツの 1 つのコピーのみが保存されます。 リストアすると、すべてのハード・リンクがリストアされます。 このオプションを指定すると、選択されたファイル全体を事前にスキャンすることが必要になり、この処理に長い時間と大量のメモリーが費やされる場合があります。
11. 暗号化について選択した後、**「次へ」**をクリックして**「スケジュールの作成 (Create a schedule)」**画面に進みます。
12. 「スケジュールの作成 (Create a schedule)」ページで、**「追加」**をクリックして時刻ベースのバックアップ・ジョブをスケジュールに入れるか、**「次へ」**をクリックして手動ジョブを作成します。
  - 手動ジョブを作成する場合は、ステップ 15 に進みます。
  - 時刻ベースのジョブをスケジュールに入れる場合は、バックアップを実行する曜日と時刻を選択します。
  - 保存スキームを選択します。 保存スキームについて詳しくは、[FAQ](faqs.html#-how-do-the-retention-schemes-work-) を参照してください。
  - **「拡張スケジュール・オプション (Advanced Schedule Options) 」**をクリックして、その他の構成項目を表示します。 ネットワークのピークの時間に大規模なバックアップが実行されることを回避するために、**「遅延の使用 (Use Deferring)」**を選択できます。

    遅延オプションを有効にした場合、指定された時間が経過すると、バックアップ・ジョブでは新しいデータをバックアップしません。 ジョブのデータの中にバックアップされていないものがあっても、セーフセットがボールトにコミットされます。 以前に保存されたデータに加えられた変更は、指定された時間に関係なくバックアップされます。 <br/> ジョブが再度実行されると、エージェントによって、以前にバックアップされたデータに変更が加えられているかどうかが確認され、その変更がバックアップされた後、残りのデータがバックアップされます。 アイテムのバックアップ中にバックアップ・ジョブが遅延された場合、そのアイテムのバックアップは不完全になり、そのアイテムのデータはリストアできません。 ただし、ジョブが遅延する前にそのジョブでバックアップされたアイテムは、リストアできます。
    {:note}
13. バックアップ・スケジュールを構成した後、**「OK」**をクリックして保存します。 スケジュールに入れたジョブが、スケジュール済みのジョブのリストに追加されます。
  - ステップ 12 を繰り返して、追加のバックアップをスケジュールすることができます。
  - 既存のバックアップ・ジョブを更新するには、そのジョブの行をクリックして選択した後、**「編集」**をクリックし、変更を加えます。
14. バックアップ・ジョブのボールトを選択し、**「変更の保存」**をクリックします。
15. バックアップ・ジョブを実行します。
  - 時刻ベースのバックアップ・ジョブをスケジュールした場合は、他に作業を行う必要はありません。 ジョブはスケジュールに従って自動的に実行されます。
  - 手動ジョブを (時刻ベースのスケジュールなしで) セットアップした場合は、ジョブ・リストでその行を選択し、**「バックアップの実行 (Run backup)」**をクリックすることによって、その手動ジョブを実行できます。 時刻ベースのジョブについては、**保存スキーム**と**バックアップの拡張オプション**を選択できます。 構成について選択した後、**「バックアップの開始 (Start backup)」**をクリックして、ジョブを開始します。
